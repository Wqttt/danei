<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>01_mypro_login</title>
</head>
<body>
	用户名：<input type="text" id="uname" placeholder="请输入您的用户名"><br>
	密&nbsp;&nbsp;&nbsp;码：<input type="password" id="upwd" placeholder="请输入您的密码"><br>
	<button onclick="Login()">登录</button>
	<script>
		function Login(){
			//1.获取xhr异步对象
			var xhr=new XMLHttpRequest();
			//4.绑定监听，获取响应
			xhr.onreadystatechange=function(){
				if(xhr.readyState==4 && xhr.status==200){
					var result=xhr.responseText;
					if(result==1){
						alert("登录成功");
					}else if(result==0){
						alert("用户名或者密码错误");
					}else{
						alert(result);
					}
				}
			}
			//2.创建请求，打开连接
			//非空验证
			if(!uname.value){
				alert("用户名不能为空");
				return;
			}
			if(!upwd.value){
				alert("你的密码不能为空");
				return;
			}
			xhr.open("get","/mypro/v1/login/"+uname.value+"-"+upwd.value,true);
			//3.发送请求
			xhr.send();
		}
	</script>
</body>
</html>